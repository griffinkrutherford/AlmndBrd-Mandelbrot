AlmndBrd-Mandelbrot
===================

Overview
--------
AlmndBrd-Mandelbrot is an interactive Mandelbrot set explorer built using SDL2 and SDL2_ttf. The project now supports two different platforms:

1. macOS Native Build
   - Uses main_macos.cpp
   - Includes full features such as multithreading, dynamic iterations, and additional UI controls.

2. WebAssembly Build
   - Uses main_web.cpp
   - Compiled with Emscripten so that the application runs in modern web browsers.
   - Simplified version focusing on core functionality (e.g., rectangle zooming). Multithreading and ML integration are stubbed out (and can be extended later using Web Workers).

Project Structure
-----------------
- Main Files:
  - main_macos.cpp – Entry point for the macOS native application.
  - main_web.cpp – Entry point for the WebAssembly/browser version.
  - main.cpp – (Legacy file or placeholder; use one of the above for your build.)

- Common Files:
  - Complex Number Handling (z, c).h – Header for complex number operations.
  - Stub implementations (generated during build):
    - Complex_stub.cpp – Provides a basic implementation of the Complex class.
    - ML_stub.cpp – Provides a stub for ML prediction (returns an empty vector).

- CMakeLists.txt – The CMake configuration file has been updated to build two separate targets:
  - mandelbrot_app_macos (for native macOS)
  - mandelbrot_app_web (for WebAssembly)

Dependencies
------------
- SDL2 and SDL2_ttf:
  - On macOS, these are typically installed via Homebrew. The CMake configuration will attempt to find them using Homebrew paths.
  - For WebAssembly, Emscripten’s ports for SDL2 and SDL2_ttf are used.
- Emscripten (for the web build):
  - Ensure you have Emscripten installed if you plan to build for WebAssembly.
- Font File (Times.ttf):
  - For the web version, a Times.ttf file must be available in the build directory. You can copy this file from your system (e.g., /System/Library/Fonts/Times.ttf) or use an alternative font.

Build and Run Instructions
--------------------------

Building for macOS (Native)
---------------------------
1. Create a build directory (if not already present):
   cd /path/to/AlmndBrd-Mandelbrot
   mkdir build && cd build
   rm -rf *
2. Configure the project with CMake:
   cmake .. -DCMAKE_BUILD_TYPE=Release
3. Build the macOS target:
   cmake --build . --target mandelbrot_app_macos
4. Run the application:
   ./mandelbrot_app_macos

Building for WebAssembly (Browser)
------------------------------------
1. Install and activate Emscripten (if not already installed):
   brew install emscripten
   source /usr/local/Cellar/emscripten/*/emsdk_env.sh
2. Create a build directory:
   cd /path/to/AlmndBrd-Mandelbrot
   mkdir build && cd build
   rm -rf *
3. Configure the project for WebAssembly:
   emcmake cmake .. -DEMSCRIPTEN=1
4. Build the WebAssembly target:
   cmake --build . --target mandelbrot_app_web
5. Prepare the font file:
   Copy Times.ttf to the build directory (if not already there):
   cp /System/Library/Fonts/Times.ttf .
6. Test locally:
   emrun mandelbrot_app_web.html
   (This command will open a browser window showing your Mandelbrot explorer.)

Additional Notes
----------------
- Common Sources: The stub implementations for the Complex class and ML prediction are automatically generated by the CMake process and included in both builds.
- Conditional Targets:
  - The CMakeLists.txt uses the EMSCRIPTEN variable to differentiate between building for WebAssembly and macOS.
  - On macOS (when not using Emscripten), Homebrew paths for SDL2 and SDL2_ttf are used.
- Extending Functionality:
  - For the macOS build, full multithreading and advanced features (like GenAI integration) are enabled.
  - The web version is simplified by default. Future work can include enabling threading (via Web Workers) or ML predictions if needed.

For questions or further assistance, please refer to the project documentation or contact the project maintainer.
